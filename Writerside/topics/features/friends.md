# 好友系统 (测试版)

好友系统支持玩家间添加好友、管理好友与建立亲密关系。同时，还支持使用好友间沟通的工具。

## 好友功能 {id=functions}

- 好友上线时可以收到通知。
- 可以看到好友正在玩什么地图，和他一起玩。
- 好友间允许私聊消息。_(回复管理员时无需好友)_
- 好友间允许留言，采用书本信件的形式。
- 好友间允许赠礼和使用道具，均会增加亲密度。
- 允许给好友设置备注和描述，便于回忆好友是谁。

## 好友指令 {id=commands}

**/friend** (或/f)
: 打开好友GUI

**/friend add <玩家名>**
: 发送添加好友的请求。

**/friend remove <玩家名>**
: 删除某位好友。

**/friend accept <玩家名>**
: 接受来自某位玩家的好友请求。

**/friend deny <玩家名>**
: 婉拒来自某位玩家的好友请求。

**/tell(msg|whisper|t) <玩家名> <消息内容...>**
: 向好友发送私聊消息

**/reply(r) [玩家名]**
: 回复好友消息，不填ID则回复最近消息。

**/profile <玩家名>**
: 查询玩家的信息。

## 亲密度与亲密关系

好友间存在亲密度，当亲密度达到 200 点时可以建立亲密关系。同时在线、同时游玩地图均可以增加亲密度。

可以建立的亲密关系有
- 情侣 (最大1个)
- 兄弟 (最大2个)
- 闺蜜 (最大2个)

亲密关系等级会随着亲密度的增长而增长。

亲密度需要发起申请，对方接受后即可建立亲密关系；如想要解除，也需要对方同意。
在删除好友时，自动解除亲密度并清空亲密度。

## 好友请求

可以输入 `/f add <玩家名>` 向其他玩家发送好友请求，请求支持通过GUI管理或指令直接处理，请求无有效期。

用户可以开关是否接受好友请求，可以选择屏蔽好友，屏蔽后不接受对方的任何消息、请求。

### 好友信息

在 “好友列表” 的界面中，将列出您现存的所有好友关系，其信息包括：
- 好友的备注、描述。
- 亲密度(数字)与亲密关系(关系类型和关系等级)。
- 好友的当前状态
    - 如在线时显示正在玩什么，离线时显示最后上线时间

### 好友留言

好友间支持留言，使用书本输入和书本查看。

用户可以删除已发/收到的留言。


